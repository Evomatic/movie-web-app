// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  userId    String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email     String      @unique
  password  String      @unique
  Favorites Favorites[]
}

model Movies {
  movieId    String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  title      String
  year       String
  rated      String
  released   String
  runtime    String
  genre      String
  director   String
  writer     String
  actors     String
  plot       String
  language   String
  country    String
  awards     String
  poster     String
  ratings    Json[]
  metascore  String
  imdbRating String
  type       String
  dvd        String
  boxOffice  String
  production String
  website    String
  response   String
  favorite   Boolean
  Favorites  Favorites[]
}

model Favorites {
  userId  String @db.Uuid
  user    Users  @relation(fields: [userId], references: [userId])
  movieId String @db.Uuid
  movies  Movies @relation(fields: [movieId], references: [movieId])

  @@id([userId, movieId])
}
